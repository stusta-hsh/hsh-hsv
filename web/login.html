<!DOCTYPE html>
<html>

<head>
	<link href="res/css/screen.css" rel="stylesheet" type="text/css" media="all">
	<script src="res/lib/jquery-3.5.1.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<title>HSH Login</title>
</head>

<body>
	<div class='card'>
		<h1>Login</h1>
		
		<div class='split'>
			<div class='img'>
				<img src='res/icon.svg' alt='HSH Logo'>
			</div>

			<form id='form-login' action="javascript:void(0);">
				<div class='input'>
					<label for="email">Email</label>
					<input type="email" id="email" name="email"/>
				</div>
				<div class='input'>
					<label for="pwd">Password</label>
					<input type="password" id="pwd" name="password"/>
				</div>
				<input class='input' type='submit' value='Login'>
			</div>
		</div>
		
		<p>Don't have an account? <a href="signup">Sign up.</a></p>
	</div>

<script>

$("#form-login").submit(function() {
	$.ajax("api/user/login", {
		type: "POST",
		contentType: "application/json",
		data: JSON.stringify({email: $("#email").val(), password: $("#pwd").val()}),
		error: function(xhr, status, text) {
			alert(text + ": " + xhr.responseText);
		},
		success: function() {
			window.location.href = "index";
		}
	});
})

</script>
</body>
</html>